<!--pages/bookme/bookme.wxml-->
<view class="news-list">
  <view 
    class="news-item" 
    wx:for="{{newsList}}" 
    wx:key="id" 
    bindtap="handleNewsTap" 
    data-newsid="{{item.id}}"
  >
    <!-- 新闻标题区域 -->
    <view class="news-content">
      <text class="news-title">{{item.title}}</text>
      <text class="news-subtitle">{{item.subtitle}}</text>
    </view>

    <!-- 新闻日期区域 -->
    <view class="news-date">{{item.date}}</view>
  </view>

  <!-- 加载更多按钮 -->
  <view wx:if="{{hasMore}}" class="load-more" bindtap="loadMoreNews">
    <text>加载更多新闻</text>
  </view>
</view>
<view class="container">
  <!-- 用户信息展示 -->
  <view wx:if="{{userInfo}}" style="display:flex;align-items:center;margin-bottom:24rpx;">
    <image src="{{userInfo.avatarUrl}}" style="width:72rpx;height:72rpx;border-radius:50%;margin-right:16rpx;" />
    <text style="font-size:18px;font-weight:bold;">{{userInfo.nickName}}</text>
  </view>
  <button bindtap="handleSubscribe" type="primary">
    {{subscribed ? '接收订阅消息' : '授权并订阅'}}
  </button>
  
  <!-- 添加说明文字 -->
  <view class="tip" wx:if="{{!subscribed}}">
    <text>请先点击上方按钮授权订阅消息</text>
  </view>
</view>